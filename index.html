<html>
<head>
    <title>Index of /</title>
    <style>
        * {
        font-family: sans-serif;
        }
    </style>
</head>
    <body>
        <h1>Index of /</h1>
        <hr>
            <table>
                <col width="800">
                <col width="200">
                <col width="80">
                <tr>
                    <th align="left">Filename</th>
                    <th align="left">Last modified</th>
                    <th align="left">Size</th>
                </tr>
<tr>
    <td><p style="display: none">repodata</p><img style="margin-right: 5px; max-width: 20px" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH2wQECAEI1xyfEAAABF1JREFUaIHtmM1vVFUYh59zO3NnWiCSRhOQVoMf0cS4MBgXLR+GRBaaLmBRBVO2Ji5152oWblyZ+BeQmChBFpi6MYGFGxdSE+QrJQWDKYXBMjC0dDpzz8fr4kzbKfd2mCtTexP7JJOTObnzzvu77+8959wLm2zy/0YlTY6NjW2x1oZpg9VqNTlz5kz16dPqnJiAj8eOfmOM/kQp5dIGE0EpxYJxMnL65Olfu5Nie2ICjh4brbx78O3+rVv6UgcTgXJ5lomJqw9x0ZsnT/443ZUs25CLzSh4Z88w/f3Pcv/+bOqALw7OUa9HW69cvnF2ZGTkrfHx8Vo3El2LuAAgDEOqD+9z4eJ5RDp3UqFQZHBgNwf27+upVh8NzsyUvy+VSodLpVJqO3ZKzEIfHRutfP7Zp/1TU1eZm59LH1AFvLT7VYqFAuM//bx486+ZALDdSDZQqh7k1JfffXvq66W5hAoIiKCNRuvoX/3R5LVL7Hp+kA9Hj/Q6Jz7mYxhjAEEbgzUarQ3GGIzVfjR+jLQfrTHMLzzqO//bZAloJ8BjtUVHOlXiIkKj+ZvJa5NMXb9OsVhMyt+jfOMjgiCIOETEzyE4x9IFOHHkegJEXL41xJoCtDFEKQRUKvPM3L5HIUy9fXRMI4oIlOppnYsJEO8gokijdWcCGg3N7TsVjo8dYdeunQSB/w/nHM5Z78pmGUSWRvClEUQU4PvcWtecV81rV8pXrT7ixIkfVt2h5B5AaDTqRFFnPVAuVxka2sPw0D5EBOcs3vugFDjn7eGcw4kgq0bnx+Y1AE6a353FNeOJgzAsYuzq9WBtC2nDwkJ9+Y4lIUCtFtGTD/ng/UMsLi4wdX2yI9HdIlHAxO8XuHjpBn19RXK5nqRLAAhUwODAAAcPDrNzxwAX/pigjd51IakHcleuTnJ87DDbtm15YgClFK+/9ga3bt1E68a6JNmOmIAwzPUeeu8Aw0P7yefbryjes4q5+Sp3yjNt7bZexCuACvbt3cvfs3d48KCyxs/U8srinO14tVoP4j0goorFIpXKPRqN+gaklI5goxN4WhJXIb+7y4Z4Oi1r7gNLG1rWSbSQuK6cfruOUvFH+MQKaG1wzmXOQkrF73eigKWzetYsFAQdVsAY03IuzxIdVUCw1saOslkg6LQHjLHLzwWZotMesNbgHzCypSBFD1icI3OrUNKb0MR9wLl1e43zVARBCguJs5mrgFqpQB7QEBewDcA626xWxgSs9MAOoAzoVgF54DkAZ5cesv/bBJ9Ey068A6gDs60CeoHtIqKcCFlchVrOQtuBZ4Bqq4AQKALNjSyD+8BKPiFQAILHe8C/bnKOIAhWNXHSSXADWT4mtApoAItAdPnKtcLLr7xATmWoBEoxdeNP8mHO4f1fB0yrgBrwYHp65quz53754uw51n4htEGoIJDZu/dOAdXmxz7uiz78SrQdsiegSR2f/F0SBIBvkF6yKyDCuyWbx4VNNtkkHf8Al2k6f7TD2+wAAAAASUVORK5CYII=" /><a href="rpm">rpm</a></td>
    <td>-</td>
    <td>-</td>
</tr>

<tr>
    <td><p style="display: none">repodata</p><img style="margin-right: 5px; max-width: 20px" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH2wQECAEI1xyfEAAABF1JREFUaIHtmM1vVFUYh59zO3NnWiCSRhOQVoMf0cS4MBgXLR+GRBaaLmBRBVO2Ji5152oWblyZ+BeQmChBFpi6MYGFGxdSE+QrJQWDKYXBMjC0dDpzz8fr4kzbKfd2mCtTexP7JJOTObnzzvu77+8959wLm2zy/0YlTY6NjW2x1oZpg9VqNTlz5kz16dPqnJiAj8eOfmOM/kQp5dIGE0EpxYJxMnL65Olfu5Nie2ICjh4brbx78O3+rVv6UgcTgXJ5lomJqw9x0ZsnT/443ZUs25CLzSh4Z88w/f3Pcv/+bOqALw7OUa9HW69cvnF2ZGTkrfHx8Vo3El2LuAAgDEOqD+9z4eJ5RDp3UqFQZHBgNwf27+upVh8NzsyUvy+VSodLpVJqO3ZKzEIfHRutfP7Zp/1TU1eZm59LH1AFvLT7VYqFAuM//bx486+ZALDdSDZQqh7k1JfffXvq66W5hAoIiKCNRuvoX/3R5LVL7Hp+kA9Hj/Q6Jz7mYxhjAEEbgzUarQ3GGIzVfjR+jLQfrTHMLzzqO//bZAloJ8BjtUVHOlXiIkKj+ZvJa5NMXb9OsVhMyt+jfOMjgiCIOETEzyE4x9IFOHHkegJEXL41xJoCtDFEKQRUKvPM3L5HIUy9fXRMI4oIlOppnYsJEO8gokijdWcCGg3N7TsVjo8dYdeunQSB/w/nHM5Z78pmGUSWRvClEUQU4PvcWtecV81rV8pXrT7ixIkfVt2h5B5AaDTqRFFnPVAuVxka2sPw0D5EBOcs3vugFDjn7eGcw4kgq0bnx+Y1AE6a353FNeOJgzAsYuzq9WBtC2nDwkJ9+Y4lIUCtFtGTD/ng/UMsLi4wdX2yI9HdIlHAxO8XuHjpBn19RXK5nqRLAAhUwODAAAcPDrNzxwAX/pigjd51IakHcleuTnJ87DDbtm15YgClFK+/9ga3bt1E68a6JNmOmIAwzPUeeu8Aw0P7yefbryjes4q5+Sp3yjNt7bZexCuACvbt3cvfs3d48KCyxs/U8srinO14tVoP4j0goorFIpXKPRqN+gaklI5goxN4WhJXIb+7y4Z4Oi1r7gNLG1rWSbSQuK6cfruOUvFH+MQKaG1wzmXOQkrF73eigKWzetYsFAQdVsAY03IuzxIdVUCw1saOslkg6LQHjLHLzwWZotMesNbgHzCypSBFD1icI3OrUNKb0MR9wLl1e43zVARBCguJs5mrgFqpQB7QEBewDcA626xWxgSs9MAOoAzoVgF54DkAZ5cesv/bBJ9Ey068A6gDs60CeoHtIqKcCFlchVrOQtuBZ4Bqq4AQKALNjSyD+8BKPiFQAILHe8C/bnKOIAhWNXHSSXADWT4mtApoAItAdPnKtcLLr7xATmWoBEoxdeNP8mHO4f1fB0yrgBrwYHp65quz53754uw51n4htEGoIJDZu/dOAdXmxz7uiz78SrQdsiegSR2f/F0SBIBvkF6yKyDCuyWbx4VNNtkkHf8Al2k6f7TD2+wAAAAASUVORK5CYII=" /><a href="deb">deb</a></td>
    <td>-</td>
    <td>-</td>
</tr>

            </table>

<hr>

<h2>RPM package build and repo index</h2>

<h3>Build package</h3>
<pre>
rpm -i $pgk.srpm
rpmbuild -ba --clean SPECS/$pkg.spec
</pre>

We skip the step of signing the package for now.

<h3>Create repo</h3>
<pre>
createrepo .
</pre>

<hr>

<h2>DEB package build and repo</h2>

<h3>Build package</h3>
<pre>
dpkg-source -x $pkg.dsc
cd $pkg
mk-build-deps --install debian/control
debuild -b -uc -us
</pre>

<h3>Create repo</h3>
We create a very basic Debian repo, not using a pool/ directory and Release files with GPG signatures.

<pre>
ARCH="`dpkg --print-architecture`"

mkdir -p dists/main/local/binary-$ARCH
mkdir -p dists/main/local/source
</pre>

Move binary packages to <code>binary-$ARCH</code> and sources to <code>source</code>.

<pre>
dpkg-scanpackages dists/main/local/binary-$ARCH /dev/null \
  | gzip -9 \
  > dists/main/local/binary-$ARCH/Packages.gz

dpkg-scansources dists/main/local/source \
  | gzip -9 \
  > dists/main/local/source/Sources.gz
</pre>


        <hr>
        <span>
            <span style="font-size: 12px">Beat Rubischon &lt;beat@0x1b.ch&gt;</span>
        </span>
    </body>
</html>